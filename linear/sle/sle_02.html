<p>В рамках модуля вывод различных матриц, столбцов и строк будет в следующем формате:</p>

<ul>
	<li>вывод начинается с <code>[</code> и заканчивается <code>]</code>;</li>
	<li>элементы строки разделены пробелами (любым количеством);</li>
	<li>между строками матрицы ставится перенос строки;</li>
	<li>если строк больше одной, каждая обрамляется парой <code>[ ]</code>;</li>
	<li>целые числа выводятся как есть, а не-целые рациональные в виде <code>a/b</code>, где a и b взаимно просты и b положительное.</li>
</ul>

<p>Пример вывода:</p>

<pre><code class="language-no-highlight">[[1 1/2 -2/3]
 [0 -1  3/4 ]]</code></pre>

<p>В Python для рациональных чисел есть класс <code>Fraction</code>, доступный в модуле <code>fractions</code> стандартной библиотеки.</p>

<p>Для удобства парсинга подаваемые на вход программе матрицы будут, если не оговорено иное, представлены в виде набора строк разделенных пробелами значений.</p>

<p>Чтобы считать все строки ввода, можно воспользоваться командой <code>sys.stdin.readlines()</code> — она вернет список всех строк (включая символы новой строки). Ниже приведена вариация, дающая список всех строк без символов перевода строки:</p>

<pre><code class="language-python">import sys

lines = sys.stdin.read().splitlines()</code></pre>

<p>Список строк легко конвертировать в наборы целых чисел:</p>

<pre><code class="language-python">entries = (map(int, line.split()) for line in lines)</code></pre>

<p>Теперь по <code>entries</code> и каждому из его элементов можно итерироваться, получая поданные на вход целые числа. Например, следующий код выведет сумму элементов в каждой строке данной матрицы.</p>

<pre><code class="language-python">for row in entries:
    print(sum(row))</code></pre>

<p>Поскольку <code>entries</code> был генератором, его можно употребить только один раз, прежде чем он будет исчерпан. Если требуется проитерироваться по вводным данным несколько раз, необходимо переписать код следующим образом:</p>

<pre><code class="language-python">entries = [list(map(int, line.split())) for line in lines]</code></pre>

<p>В таком варианте <code>entries</code> это список списков целых чисел.</p>

<p>К сожалению, популярная и более короткая команда <code>lines = list(iter(input, ''))</code> несовместима с устройством платформы.</p>